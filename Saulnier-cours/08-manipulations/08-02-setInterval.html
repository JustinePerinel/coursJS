<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <!-- ajouter la ligne pour boodstrap -->
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>VIII - 02 - Les diaporamas avec setInterval</title>
        <!-- reset  -->
        <!-- <link rel="stylesheet" href="../css/reset.css"> -->
        <!-- mes styles en externe -->
        <!-- <link rel="stylesheet" href="../css/style.css"> -->
      <!-- style interne si besoin -->
        <style>
      

        </style>
        <!--async permet de charger le html en premier et adapter le script, ce qui permet de trouver les identifiants du html p1,p2,.. et lancer le script JS une fois le html lu-->

        <!-- Ajouter le CSS boodstrap -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        
        <!-- script en externe -->
        <!-- <script src="selecteur.js"></script> -->
        <script src="setInterval.js"></script>
        
    </head>
    <body>
        <!-- jumbotron / container / row/ col -->
        <div class="jumbotron ">
            <h1 id="titreNiveau1" class="display-4">JS - VIII 02 - Les diaporamas avec setInterval</h1>
            <p class ="lead">setInterval()</p>   
        </div>  <!--fin jumbotron-->

        <div class="container border border-info p-5">

            <div class="row border border-info my-3 p-3">
                
                <div class="col-6 ">
                    <h2 class="p-2">1 - </h2>
                    <p></p>
                </div> <!--fin col-6-->

                <div class="col-6 my-2 p-2">
                    <div id="diaporama1" class=" border border-danger">
                        <img src="img/1.jpg" alt="un chat" id="imgDiapo" class="img-fluid">
                    </div> <!--fin de col diaporama-->
                    
                    
                </div> <!--fin col-6-->
            </div> <!--fin row-->
            
        </div> <!--fin de container-->


        <!-- En 1er JQuery, puis Popper.js et le JS de Bootstrap -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>


        <!-- Mes scripts !!! -->

        <script>

        // Diaporama avec setInterval()

        let varImg = 0; //on commence par initaliser à zero le compteur car la premiere image s'appelle 1
        console.log(typeof varImg, varImg);

        // let testGet = imgDiapo.getAttribute('src');
        // console.log(testGet);

        function monDiaporama() {
            varImg += 1; //on affecte 1 pour incrémenter , additionne et affecte +=
            imgDiapo.setAttribute('src', 'img/' + varImg + '.jpg');
            // console.log(varImg);
            if(varImg == 10) { //car j'ai 10 images appelée de 1 à 10 dans le dossier /img
                clearInterval(timer); //permet de stopper dès que la variable est à égale à 10 dans ce cas
            }
        } //fin de fonction monDiaporama

        // cette ligne appelle la fonction et intègre un interval (grace à setInterval) en milliseconde de lecture (toujours appeler une fonction)
        let timer = window.setInterval('monDiaporama()', 2000);


        </script>


    </body>
</html>     